<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Vectors | Joe’s R Guide</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Vectors | Joe’s R Guide" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Vectors | Joe’s R Guide" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Joe Mirza" />


<meta name="date" content="2021-06-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro.html"/>
<link rel="next" href="methods.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> R Studio Environment</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#r-studio-vs.-r-and-r-markdown"><i class="fa fa-check"></i><b>1.1</b> R Studio vs. R and R Markdown</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#rstudio-and-the-file-system"><i class="fa fa-check"></i><b>1.2</b> RStudio and the File System</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#ls-vs.-list.files"><i class="fa fa-check"></i><b>1.3</b> <code>ls()</code> vs. <code>list.files()</code></a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#handy-shortcuts"><i class="fa fa-check"></i><b>1.4</b> Handy Shortcuts</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Summary &amp; Overview Functions</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#rstudio-cheatsheets-master-list"><i class="fa fa-check"></i><b>2.1</b> <span>RStudio Cheatsheets (master list)</span></a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#summary"><i class="fa fa-check"></i><b>2.2</b> <code>summary</code></a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#print-glimpse-str"><i class="fa fa-check"></i><b>2.3</b> <code>print</code>, <code>glimpse</code> &amp; <code>str</code></a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#dim-row-and-col"><i class="fa fa-check"></i><b>2.4</b> <code>dim</code>, <code>row</code> and <code>col</code></a></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#count"><i class="fa fa-check"></i><b>2.5</b> <code>count()</code></a></li>
<li class="chapter" data-level="2.6" data-path="intro.html"><a href="intro.html#table"><i class="fa fa-check"></i><b>2.6</b> <code>table()</code></a></li>
<li class="chapter" data-level="2.7" data-path="intro.html"><a href="intro.html#head-and-tail-functions-in-r"><i class="fa fa-check"></i><b>2.7</b> <code>head()</code> and <code>tail()</code> Functions in R</a></li>
<li class="chapter" data-level="2.8" data-path="intro.html"><a href="intro.html#names"><i class="fa fa-check"></i><b>2.8</b> <code>names()</code></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>3</b> Vectors</a><ul>
<li class="chapter" data-level="3.1" data-path="vectors.html"><a href="vectors.html#vector-basics"><i class="fa fa-check"></i><b>3.1</b> Vector basics</a></li>
<li class="chapter" data-level="3.2" data-path="vectors.html"><a href="vectors.html#important-types-of-atomic-vector"><i class="fa fa-check"></i><b>3.2</b> Important types of atomic vector</a></li>
<li class="chapter" data-level="3.3" data-path="vectors.html"><a href="vectors.html#logical"><i class="fa fa-check"></i><b>3.3</b> Logical</a></li>
<li class="chapter" data-level="3.4" data-path="vectors.html"><a href="vectors.html#numeric"><i class="fa fa-check"></i><b>3.4</b> Numeric</a></li>
<li class="chapter" data-level="3.5" data-path="vectors.html"><a href="vectors.html#character"><i class="fa fa-check"></i><b>3.5</b> Character</a></li>
<li class="chapter" data-level="3.6" data-path="vectors.html"><a href="vectors.html#scalars-and-recycling-rules"><i class="fa fa-check"></i><b>3.6</b> Scalars and recycling rules</a></li>
<li class="chapter" data-level="3.7" data-path="vectors.html"><a href="vectors.html#naming-vectors"><i class="fa fa-check"></i><b>3.7</b> Naming vectors</a></li>
<li class="chapter" data-level="3.8" data-path="vectors.html"><a href="vectors.html#vector-subsetting"><i class="fa fa-check"></i><b>3.8</b> Subsetting</a></li>
<li class="chapter" data-level="3.9" data-path="vectors.html"><a href="vectors.html#exercises"><i class="fa fa-check"></i><b>3.9</b> Exercises</a><ul>
<li class="chapter" data-level="3.9.1" data-path="vectors.html"><a href="vectors.html#exercise-1"><i class="fa fa-check"></i><b>3.9.1</b> Exercise 1</a></li>
<li class="chapter" data-level="3.9.2" data-path="vectors.html"><a href="vectors.html#exercise-2"><i class="fa fa-check"></i><b>3.9.2</b> Exercise 2</a></li>
<li class="chapter" data-level="3.9.3" data-path="vectors.html"><a href="vectors.html#exercise-3-seq"><i class="fa fa-check"></i><b>3.9.3</b> Exercise 3: <code>seq()</code></a></li>
<li class="chapter" data-level="3.9.4" data-path="vectors.html"><a href="vectors.html#exercise-4-rep"><i class="fa fa-check"></i><b>3.9.4</b> Exercise 4: <code>rep()</code></a></li>
<li class="chapter" data-level="3.9.5" data-path="vectors.html"><a href="vectors.html#exercise-5-sampling-vectors"><i class="fa fa-check"></i><b>3.9.5</b> Exercise 5: Sampling vectors</a></li>
<li class="chapter" data-level="3.9.6" data-path="vectors.html"><a href="vectors.html#exercise-6-make-a-matrix"><i class="fa fa-check"></i><b>3.9.6</b> Exercise 6: Make a <code>matrix()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="vectors.html"><a href="vectors.html#lists"><i class="fa fa-check"></i><b>3.10</b> Recursive vectors (lists)</a><ul>
<li class="chapter" data-level="3.10.1" data-path="vectors.html"><a href="vectors.html#subsetting"><i class="fa fa-check"></i><b>3.10.1</b> Subsetting</a></li>
<li class="chapter" data-level="3.10.2" data-path="vectors.html"><a href="vectors.html#more-vector-stuff"><i class="fa fa-check"></i><b>3.10.2</b> More vector stuff</a></li>
<li class="chapter" data-level="3.10.3" data-path="vectors.html"><a href="vectors.html#lists-of-condiments"><i class="fa fa-check"></i><b>3.10.3</b> Lists of condiments</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="vectors.html"><a href="vectors.html#augmented-vectors"><i class="fa fa-check"></i><b>3.11</b> Augmented vectors</a><ul>
<li class="chapter" data-level="3.11.1" data-path="vectors.html"><a href="vectors.html#dates-and-date-times"><i class="fa fa-check"></i><b>3.11.1</b> Dates and date-times</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>4</b> Methods</a></li>
<li class="chapter" data-level="5" data-path="applications.html"><a href="applications.html"><i class="fa fa-check"></i><b>5</b> Applications</a><ul>
<li class="chapter" data-level="5.1" data-path="applications.html"><a href="applications.html#example-one"><i class="fa fa-check"></i><b>5.1</b> Example one</a></li>
<li class="chapter" data-level="5.2" data-path="applications.html"><a href="applications.html#example-two"><i class="fa fa-check"></i><b>5.2</b> Example two</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>6</b> Final Words</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="7" data-path="dates.html"><a href="dates.html"><i class="fa fa-check"></i><b>7</b> Dates</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Joe’s R Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="vectors" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Vectors</h1>
<p>Primary Source:</p>
<p><a href="https://r4ds.had.co.nz/vectors.html">R for Data Science: Vectors</a></p>
<div id="vector-basics" class="section level2">
<h2><span class="header-section-number">3.1</span> Vector basics</h2>
<p>In some ways, working with vectors is harder than working with dataframes and data tables.
That’s slightly counterintuitive, as they’re the most atomic unit one works with in R. In Manning’s
*Practical Data Science with R` they state:</p>
<blockquote>
<p><em>"R’s most basic data type is the vector, or array….R is fairly unique in having no scalar types. A single number such as the number 5 is represented in R as a vector with exactly one entry (5).</em></p>
</blockquote>
<p>There are two types of vectors:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Atomic</strong> vectors, of which there are six types: <strong>logical</strong>, <strong>integer</strong>, <strong>double</strong>, <strong>character</strong>, <strong>complex</strong>, and <strong>raw</strong>.
Integer and double vectors are collectively known as <strong>numeric</strong> vectors.</p></li>
<li><p><strong>Lists</strong>, which are sometimes called recursive vectors because lists can contain other lists.</p></li>
</ol>
<p>The chief difference between atomic vectors and lists is that atomic vectors are homogeneous, while lists can be heterogeneous. There’s one other related object: NULL. NULL is often used to represent the absence of a vector (as opposed to NA which is used to represent the absence of a value in a vector). NULL typically behaves like a vector of length 0. Figure 20.1 summarises the interrelationships.</p>
<div class="figure">
<img src="images/vector_hierarchy.png" alt="" />
<p class="caption">20.1</p>
</div>
<p>Every vector has two key properties:</p>
<ol style="list-style-type: decimal">
<li><p>Its <strong>type</strong>, which you can determine with <code>typeof()</code>.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="vectors.html#cb44-1"></a><span class="kw">typeof</span>(letters)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="vectors.html#cb46-1"></a><span class="kw">typeof</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre></li>
<li><p>Its <strong>length</strong>, which you can determine with <code>length()</code>.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="vectors.html#cb48-1"></a>x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</span>
<span id="cb48-2"><a href="vectors.html#cb48-2"></a><span class="kw">length</span>(x)</span></code></pre></div>
<pre><code>## [1] 3</code></pre></li>
</ol>
<p>This chapter will introduce you to these important vectors from simplest to most complicated. You’ll start with atomic vectors, then build up to lists, and finish off with augmented vectors.</p>
</div>
<div id="important-types-of-atomic-vector" class="section level2">
<h2><span class="header-section-number">3.2</span> Important types of atomic vector</h2>
<p>The four most important types of atomic vector are logical, integer, double, and character.</p>
</div>
<div id="logical" class="section level2">
<h2><span class="header-section-number">3.3</span> Logical</h2>
<p>Logical vectors are the simplest type of atomic vector because they can take only three possible values: <code>FALSE</code>, <code>TRUE</code>, and <code>NA</code>.<br />
Logical vectors are usually constructed with comparison operators, you can also create them by hand with <code>c()</code>:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="vectors.html#cb50-1"></a><span class="dv">1</span><span class="op">:</span><span class="dv">10</span> <span class="op">%%</span><span class="st"> </span><span class="dv">3</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span></span></code></pre></div>
<pre><code>##  [1] FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="vectors.html#cb52-1"></a><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">NA</span>)</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE    NA</code></pre>
</div>
<div id="numeric" class="section level2">
<h2><span class="header-section-number">3.4</span> Numeric</h2>
<p>Integer and double vectors are known collectively as numeric vectors. In R, numbers are doubles by default.
To make an integer, place an <code>L</code> after the number:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="vectors.html#cb54-1"></a><span class="kw">typeof</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="vectors.html#cb56-1"></a><span class="kw">typeof</span>(1L)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="vectors.html#cb58-1"></a><span class="fl">1.5</span>L</span></code></pre></div>
<pre><code>## [1] 1.5</code></pre>
<p>The distinction between integers and doubles is not usually important, but there are two important differences that you should be aware of:</p>
<ol style="list-style-type: decimal">
<li><p>Doubles are approximations.</p>
<p>For example, what is square of the square root of two?</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="vectors.html#cb60-1"></a>x &lt;-<span class="st"> </span><span class="kw">sqrt</span>(<span class="dv">2</span>) <span class="op">^</span><span class="st"> </span><span class="dv">2</span></span>
<span id="cb60-2"><a href="vectors.html#cb60-2"></a>x</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="vectors.html#cb62-1"></a>x <span class="op">-</span><span class="st"> </span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 4.440892e-16</code></pre></li>
</ol>
<p>This behaviour is common when working with floating point numbers: most calculations include some approximation error.</p>
<p>Instead of comparing floating point numbers using <code>==</code>, you should use <code>dplyr::near()</code> which allows for some numerical tolerance.</p>
<ol start="2" style="list-style-type: decimal">
<li><p>Integers have one special value: <code>NA</code>, while doubles have four: <code>NA</code>, <code>NaN</code>, <code>Inf</code> and <code>-Inf</code>.
All three special values <code>NaN</code>, <code>Inf</code> and <code>-Inf</code> can arise during division:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="vectors.html#cb64-1"></a><span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>) <span class="op">/</span><span class="st"> </span><span class="dv">0</span></span></code></pre></div>
<pre><code>## [1] -Inf  NaN  Inf</code></pre>
<p>Avoid using <code>==</code> to check for these other special values.
Instead use the helper functions <code>is.finite()</code>, <code>is.infinite()</code>, and <code>is.nan()</code>:</p>
<table>
<thead>
<tr class="header">
<th></th>
<th>0</th>
<th>Inf</th>
<th>NA</th>
<th>NaN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>is.finite()</code></td>
<td>x</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>is.infinite()</code></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>is.na()</code></td>
<td></td>
<td></td>
<td>x</td>
<td>x</td>
</tr>
<tr class="even">
<td><code>is.nan()</code></td>
<td></td>
<td></td>
<td></td>
<td>x</td>
</tr>
</tbody>
</table></li>
</ol>
</div>
<div id="character" class="section level2">
<h2><span class="header-section-number">3.5</span> Character</h2>
<p>Character vectors are the most complex type of atomic vector, because each element of a character vector is a string, and a string can contain an arbitrary amount of data.</p>
<p><code>parse_number</code> function. (One of several parse functions.) Could be quite handy.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="vectors.html#cb66-1"></a><span class="kw">parse_number</span>(<span class="kw">c</span>(<span class="st">&quot;1.0&quot;</span>, <span class="st">&quot;3.5&quot;</span>, <span class="st">&quot;$1,000.00&quot;</span>, <span class="st">&quot;NA&quot;</span>, <span class="st">&quot;ABCD12234.90&quot;</span>, <span class="st">&quot;1234ABC&quot;</span>, <span class="st">&quot;A123B&quot;</span>, <span class="st">&quot;A1B2C&quot;</span>))</span></code></pre></div>
<pre><code>## [1]     1.0     3.5  1000.0      NA 12234.9  1234.0   123.0     1.0</code></pre>
<p>You’ve already seen the most important type of implicit coercion: using a logical vector in a numeric context. In this case <code>TRUE</code> is converted to <code>1</code> and <code>FALSE</code> converted to <code>0</code>.
That means the sum of a logical vector is the number of <code>TRUE</code>s, and the mean of a logical vector is the proportion of <code>TRUE</code>s:</p>
<p>(Also one of the first times I’ve seen <code>sample()</code> in this document.)</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="vectors.html#cb68-1"></a>x &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">20</span>, <span class="dv">100</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>) <span class="co"># sample integers from 1-20, 100 times w/replacement</span></span>
<span id="cb68-2"><a href="vectors.html#cb68-2"></a>y &lt;-<span class="st"> </span>x <span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span> <span class="co"># create a logical vector (I think it&#39;s a vector)</span></span>
<span id="cb68-3"><a href="vectors.html#cb68-3"></a><span class="kw">sum</span>(y)  <span class="co"># how many are greater than 10?</span></span></code></pre></div>
<pre><code>## [1] 53</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="vectors.html#cb70-1"></a><span class="kw">mean</span>(y) <span class="co"># what proportion are greater than 10?</span></span></code></pre></div>
<pre><code>## [1] 0.53</code></pre>
</div>
<div id="scalars-and-recycling-rules" class="section level2">
<h2><span class="header-section-number">3.6</span> Scalars and recycling rules</h2>
<p>As well as implicitly coercing the types of vectors to be compatible, R will also implicitly coerce the length of vectors.
This is called vector <strong>recycling</strong>, because the shorter vector is repeated, or recycled, to the same length as the longer vector.</p>
<p>This is generally most useful when you are mixing vectors and “scalars”.</p>
<p>Because there are no scalars, most built-in functions are <strong>vectorised</strong>, meaning that they will operate on a vector of numbers.
That’s why, for example, this code works:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="vectors.html#cb72-1"></a><span class="kw">sample</span>(<span class="dv">10</span>) <span class="op">+</span><span class="st"> </span><span class="dv">100</span></span></code></pre></div>
<pre><code>##  [1] 109 108 110 105 104 106 107 102 101 103</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="vectors.html#cb74-1"></a><span class="kw">runif</span>(<span class="dv">10</span>) <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.5</span></span></code></pre></div>
<pre><code>##  [1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="vectors.html#cb76-1"></a><span class="dv">5</span><span class="op">*</span><span class="kw">sample</span>(<span class="dv">5</span>,<span class="dv">10</span>,<span class="dt">replace=</span><span class="ot">TRUE</span>)</span></code></pre></div>
<pre><code>##  [1] 20 10 20 25  5 10 25  5 10 25</code></pre>
<p><code>runif</code> is not a conditional <code>if</code> statement. It is a <code>r</code>andom draw from the [0,1] (<code>u</code>niform) interval.</p>
</div>
<div id="naming-vectors" class="section level2">
<h2><span class="header-section-number">3.7</span> Naming vectors</h2>
<p>All types of vectors can be named.
You can name them during creation with <code>c()</code>:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="vectors.html#cb78-1"></a><span class="kw">c</span>(<span class="dt">x =</span> <span class="dv">1</span>, <span class="dt">y =</span> <span class="dv">2</span>, <span class="dt">z =</span> <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## x y z 
## 1 2 4</code></pre>
<p>Or after the fact with <code>purrr::set_names()</code>:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="vectors.html#cb80-1"></a><span class="kw">set_names</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>))</span></code></pre></div>
<pre><code>## a b c 
## 1 2 3</code></pre>
<p>Named vectors are most useful for subsetting, described next.</p>
</div>
<div id="vector-subsetting" class="section level2">
<h2><span class="header-section-number">3.8</span> Subsetting</h2>
<p>So far we’ve used <code>dplyr::filter()</code> to filter the rows in a tibble.
<code>filter()</code> only works with tibble, so we’ll need a new tool for vectors: <code>[</code>.
<code>[</code> is the subsetting function, and is called like <code>x[a]</code>.</p>
<p>There are four types of things that you can subset a vector with:</p>
<ol style="list-style-type: decimal">
<li><p>A numeric vector containing only integers.
The integers must either be all positive, all negative, or zero.</p>
<p>Subsetting with positive integers keeps the elements at those positions:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="vectors.html#cb82-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;one&quot;</span>, <span class="st">&quot;two&quot;</span>, <span class="st">&quot;three&quot;</span>, <span class="st">&quot;four&quot;</span>, <span class="st">&quot;five&quot;</span>)</span>
<span id="cb82-2"><a href="vectors.html#cb82-2"></a>x[<span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>)]</span></code></pre></div>
<pre><code>## [1] &quot;three&quot; &quot;two&quot;   &quot;five&quot;</code></pre>
<p>By repeating a position, you can actually make a longer output than input:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="vectors.html#cb84-1"></a>x[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">2</span>)]</span></code></pre></div>
<pre><code>## [1] &quot;one&quot;  &quot;one&quot;  &quot;five&quot; &quot;five&quot; &quot;five&quot; &quot;two&quot;</code></pre>
<p>Negative values drop the elements at the specified positions:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="vectors.html#cb86-1"></a>x[<span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">-3</span>, <span class="dv">-5</span>)]</span></code></pre></div>
<pre><code>## [1] &quot;two&quot;  &quot;four&quot;</code></pre>
<p>It’s an error to mix positive and negative values:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="vectors.html#cb88-1"></a>x[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">-1</span>)]</span></code></pre></div>
<pre><code>## Error in x[c(1, -1)]: only 0&#39;s may be mixed with negative subscripts</code></pre></li>
<li><p>Subsetting with a logical vector keeps all values corresponding to a <code>TRUE</code> value.
This is most often useful in conjunction with the comparison functions.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="vectors.html#cb90-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">3</span>, <span class="ot">NA</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">1</span>, <span class="ot">NA</span>)</span>
<span id="cb90-2"><a href="vectors.html#cb90-2"></a><span class="co"># All non-missing values of x</span></span>
<span id="cb90-3"><a href="vectors.html#cb90-3"></a>x[<span class="op">!</span><span class="kw">is.na</span>(x)]</span></code></pre></div>
<pre><code>## [1] 10  3  5  8  1</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="vectors.html#cb92-1"></a><span class="co"># All even (or missing!) values of x</span></span>
<span id="cb92-2"><a href="vectors.html#cb92-2"></a>x[x <span class="op">%%</span><span class="st"> </span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>]</span></code></pre></div>
<pre><code>## [1] 10 NA  8 NA</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="vectors.html#cb94-1"></a><span class="co"># All even AND not missing values of x</span></span>
<span id="cb94-2"><a href="vectors.html#cb94-2"></a>x[x <span class="op">%%</span><span class="st"> </span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.na</span>(x)]</span></code></pre></div>
<pre><code>## [1] 10  8</code></pre></li>
<li><p>If you have a named vector, you can subset it with a character vector:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="vectors.html#cb96-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">abc =</span> <span class="dv">1</span>, <span class="dt">def =</span> <span class="dv">2</span>, <span class="dt">xyz =</span> <span class="dv">5</span>)</span>
<span id="cb96-2"><a href="vectors.html#cb96-2"></a>x[<span class="kw">c</span>(<span class="st">&quot;xyz&quot;</span>, <span class="st">&quot;def&quot;</span>)]</span></code></pre></div>
<pre><code>## xyz def 
##   5   2</code></pre></li>
<li><p>The simplest type of subsetting is nothing, <code>x[]</code>, which returns the complete <code>x</code>.
This is not useful for subsetting vectors, but it is useful when subsetting matrices (and other high dimensional structures) because it lets you select all the rows or all the columns, by leaving that index blank.
For example, if <code>x</code> is 2d, <code>x[1, ]</code> selects the first row and all the columns, and <code>x[, -1]</code> selects all rows and all columns except the first. <em>(NOTE TO SELF: This last one is quite different from python, and a little unintuitive.)</em></p></li>
</ol>
<p>To learn more about the applications of subsetting, reading the “Subsetting” chapter of <em>Advanced R</em>: <a href="http://adv-r.had.co.nz/Subsetting.html#applications" class="uri">http://adv-r.had.co.nz/Subsetting.html#applications</a>.</p>
<p>There is an important variation of <code>[</code> called <code>[[</code>.
<code>[[</code> only ever extracts a single element, and always drops names.
It’s a good idea to use it whenever you want to make it clear that you’re extracting a single item, as in a for loop.
The distinction between <code>[</code> and <code>[[</code> is most important for lists, as we’ll see shortly.</p>
</div>
<div id="exercises" class="section level2">
<h2><span class="header-section-number">3.9</span> Exercises</h2>
<p>The expression <code>sum(!is.finite(x))</code> calculates the number of elements in the vector that are equal to missing (NA), not-a-number (NaN), or infinity (Inf).</p>
<p>I hadn’t realized that NA = ‘missing’ and NaN = ‘not-a-number’ until now.</p>
<div id="exercise-1" class="section level3">
<h3><span class="header-section-number">3.9.1</span> Exercise 1</h3>
<p>Two uses for this exercise. One, it’s one of my first exposures to <code>function()</code> and
the first two answers contrast <code>[]</code> from <code>[[]]</code>, which seem important and easy to
confuse.</p>
<p><em>Create functions that take a vector as input and returns the last value. Should you use [ or [[?</em></p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="vectors.html#cb98-1"></a>last_value &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</span>
<span id="cb98-2"><a href="vectors.html#cb98-2"></a>  <span class="co"># check for case with no length</span></span>
<span id="cb98-3"><a href="vectors.html#cb98-3"></a>  <span class="cf">if</span> (<span class="kw">length</span>(x)) {</span>
<span id="cb98-4"><a href="vectors.html#cb98-4"></a>    x[[<span class="kw">length</span>(x)]]</span>
<span id="cb98-5"><a href="vectors.html#cb98-5"></a>  } <span class="cf">else</span> {</span>
<span id="cb98-6"><a href="vectors.html#cb98-6"></a>    x</span>
<span id="cb98-7"><a href="vectors.html#cb98-7"></a>  }</span>
<span id="cb98-8"><a href="vectors.html#cb98-8"></a>}</span>
<span id="cb98-9"><a href="vectors.html#cb98-9"></a><span class="kw">last_value</span>(<span class="kw">numeric</span>())</span></code></pre></div>
<pre><code>## numeric(0)</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="vectors.html#cb100-1"></a><span class="kw">last_value</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="vectors.html#cb102-1"></a><span class="kw">last_value</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
</div>
<div id="exercise-2" class="section level3">
<h3><span class="header-section-number">3.9.2</span> Exercise 2</h3>
<p><em>Return the elements at even numbered positions.</em></p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="vectors.html#cb104-1"></a>even_indices &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</span>
<span id="cb104-2"><a href="vectors.html#cb104-2"></a>  <span class="cf">if</span> (<span class="kw">length</span>(x)) {</span>
<span id="cb104-3"><a href="vectors.html#cb104-3"></a>    x[<span class="kw">seq_along</span>(x) <span class="op">%%</span><span class="st"> </span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>]</span>
<span id="cb104-4"><a href="vectors.html#cb104-4"></a>  } <span class="cf">else</span> {</span>
<span id="cb104-5"><a href="vectors.html#cb104-5"></a>    x</span>
<span id="cb104-6"><a href="vectors.html#cb104-6"></a>  }</span>
<span id="cb104-7"><a href="vectors.html#cb104-7"></a>}</span>
<span id="cb104-8"><a href="vectors.html#cb104-8"></a><span class="kw">even_indices</span>(<span class="kw">numeric</span>())</span></code></pre></div>
<pre><code>## numeric(0)</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="vectors.html#cb106-1"></a><span class="kw">even_indices</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## numeric(0)</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="vectors.html#cb108-1"></a><span class="kw">even_indices</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1]  2  4  6  8 10</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="vectors.html#cb110-1"></a><span class="kw">even_indices</span>(letters)</span></code></pre></div>
<pre><code>##  [1] &quot;b&quot; &quot;d&quot; &quot;f&quot; &quot;h&quot; &quot;j&quot; &quot;l&quot; &quot;n&quot; &quot;p&quot; &quot;r&quot; &quot;t&quot; &quot;v&quot; &quot;x&quot; &quot;z&quot;</code></pre>
<p>Great <a href="https://stackoverflow.com/questions/13732062/what-are-examples-of-when-seq-along-works-but-seq-produces-unintended-results">example</a> on stackoverflow of<code>seq</code>vs.<code>seq_along</code>. It appears there’s every reason to
use<code>seq_along</code>instead as its behavior makes more sense.</p>
</div>
<div id="exercise-3-seq" class="section level3">
<h3><span class="header-section-number">3.9.3</span> Exercise 3: <code>seq()</code></h3>
<p><em>Creating a sequence in a vector:</em></p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="vectors.html#cb112-1"></a>x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">10</span>, <span class="dt">to =</span> <span class="dv">40</span>, <span class="dt">by =</span> <span class="dv">10</span>)</span>
<span id="cb112-2"><a href="vectors.html#cb112-2"></a>y &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">1</span>, <span class="dt">to =</span> <span class="dv">4</span>, <span class="dt">by =</span> <span class="dv">1</span>)<span class="op">^</span><span class="dv">2</span></span>
<span id="cb112-3"><a href="vectors.html#cb112-3"></a>x</span></code></pre></div>
<pre><code>## [1] 10 20 30 40</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="vectors.html#cb114-1"></a>y</span></code></pre></div>
<pre><code>## [1]  1  4  9 16</code></pre>
</div>
<div id="exercise-4-rep" class="section level3">
<h3><span class="header-section-number">3.9.4</span> Exercise 4: <code>rep()</code></h3>
<p><em>Repeating data in a vector:</em></p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="vectors.html#cb116-1"></a>one_to_ten_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>)</span>
<span id="cb116-2"><a href="vectors.html#cb116-2"></a>one_to_ten_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb116-3"><a href="vectors.html#cb116-3"></a>ten_to_one &lt;-<span class="st"> </span><span class="dv">10</span><span class="op">:</span><span class="dv">1</span></span>
<span id="cb116-4"><a href="vectors.html#cb116-4"></a></span>
<span id="cb116-5"><a href="vectors.html#cb116-5"></a>one_to_ten_<span class="dv">1</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="vectors.html#cb118-1"></a>one_to_ten_<span class="dv">2</span></span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="vectors.html#cb120-1"></a>ten_to_one</span></code></pre></div>
<pre><code>##  [1] 10  9  8  7  6  5  4  3  2  1</code></pre>
<p><em>Using <code>rep</code>licate</em></p>
<p>Two arguments: <code>times</code> or <code>each</code>:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="vectors.html#cb122-1"></a>letter_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>)</span>
<span id="cb122-2"><a href="vectors.html#cb122-2"></a></span>
<span id="cb122-3"><a href="vectors.html#cb122-3"></a><span class="kw">rep</span>(letter_vector, <span class="dt">times =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;a&quot; &quot;b&quot; &quot;c&quot;</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="vectors.html#cb124-1"></a><span class="kw">rep</span>(letter_vector, <span class="dt">each =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;a&quot; &quot;a&quot; &quot;b&quot; &quot;b&quot; &quot;b&quot; &quot;c&quot; &quot;c&quot; &quot;c&quot;</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="vectors.html#cb126-1"></a><span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dt">times =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>)</span></code></pre></div>
<pre><code>##  [1] 1 2 2 3 3 3 4 4 4 4</code></pre>
</div>
<div id="exercise-5-sampling-vectors" class="section level3">
<h3><span class="header-section-number">3.9.5</span> Exercise 5: Sampling vectors</h3>
<p><em>Draws from a normal distribution:</em></p>
<p>n = 8 draws from a normal distribution with mean 100 and sd = 20</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="vectors.html#cb128-1"></a><span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">8</span>, <span class="dt">mean =</span> <span class="dv">100</span>, <span class="dt">sd =</span> <span class="dv">20</span>)</span></code></pre></div>
<pre><code>## [1] 128.81944 112.87214  83.66994  83.50414 100.43675  92.04441 103.86514
## [8] 104.17416</code></pre>
<p><em>Draws from the uniform distribution</em></p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="vectors.html#cb130-1"></a>draws &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dt">n =</span> <span class="dv">1000</span>, <span class="dt">min =</span> <span class="dv">-1</span>, <span class="dt">max =</span> <span class="dv">9</span>)</span>
<span id="cb130-2"><a href="vectors.html#cb130-2"></a><span class="kw">hist</span>(draws, <span class="dt">col =</span> <span class="st">&#39;black&#39;</span>)</span></code></pre></div>
<p><img src="Joes_R_Guide_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
<p><em>Draw from a vector using the <code>sample()</code> function with or without replacement</em></p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="vectors.html#cb131-1"></a>urn &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;red_ball&#39;</span>, <span class="st">&#39;blue_ball&#39;</span>, <span class="st">&#39;green_ball&#39;</span>)</span>
<span id="cb131-2"><a href="vectors.html#cb131-2"></a><span class="kw">sample</span>(<span class="dt">x =</span> urn, <span class="dt">size =</span> <span class="dv">4</span>, <span class="dt">replace =</span> T)</span></code></pre></div>
<pre><code>## [1] &quot;red_ball&quot;   &quot;green_ball&quot; &quot;blue_ball&quot;  &quot;green_ball&quot;</code></pre>
<p><em>To shuffle (makes use of default arguments):</em></p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="vectors.html#cb133-1"></a><span class="kw">sample</span>(urn)</span></code></pre></div>
<pre><code>## [1] &quot;red_ball&quot;   &quot;blue_ball&quot;  &quot;green_ball&quot;</code></pre>
</div>
<div id="exercise-6-make-a-matrix" class="section level3">
<h3><span class="header-section-number">3.9.6</span> Exercise 6: Make a <code>matrix()</code></h3>
<p><em>Make a matrix:</em></p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="vectors.html#cb135-1"></a>m &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb135-2"><a href="vectors.html#cb135-2"></a>m</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    6
## [2,]    2    7
## [3,]    3    8
## [4,]    4    9
## [5,]    5   10</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="vectors.html#cb137-1"></a>m[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">1</span>)]</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    6    1
## [2,]    7    2</code></pre>
</div>
</div>
<div id="lists" class="section level2">
<h2><span class="header-section-number">3.10</span> Recursive vectors (lists)</h2>
<p>Lists are a step up in complexity from atomic vectors, because lists can contain other lists.
This makes them suitable for representing hierarchical or tree-like structures.
You create a list with <code>list()</code>:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="vectors.html#cb139-1"></a>x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb139-2"><a href="vectors.html#cb139-2"></a>x</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] 2
## 
## [[3]]
## [1] 3</code></pre>
<p>A very useful tool for working with lists is <code>str()</code> because it focuses on the <strong>str</strong>ucture, not the contents.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="vectors.html#cb141-1"></a>y &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;a&quot;</span>, 1L, <span class="fl">1.5</span>, <span class="ot">TRUE</span>)</span>
<span id="cb141-2"><a href="vectors.html#cb141-2"></a><span class="kw">str</span>(y)</span></code></pre></div>
<pre><code>## List of 4
##  $ : chr &quot;a&quot;
##  $ : int 1
##  $ : num 1.5
##  $ : logi TRUE</code></pre>
<p>Lists can even contain other lists!</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="vectors.html#cb143-1"></a>z &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="kw">list</span>(<span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb143-2"><a href="vectors.html#cb143-2"></a><span class="kw">str</span>(z)</span></code></pre></div>
<pre><code>## List of 2
##  $ :List of 2
##   ..$ : num 1
##   ..$ : num 2
##  $ :List of 2
##   ..$ : num 3
##   ..$ : num 4</code></pre>
<p>To explain more complicated list manipulation functions, it’s helpful to have a visual representation of lists.
For example, take these three lists:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="vectors.html#cb145-1"></a>x1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb145-2"><a href="vectors.html#cb145-2"></a>x2 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="kw">list</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="kw">list</span>(<span class="dv">3</span>, <span class="dv">4</span>))</span>
<span id="cb145-3"><a href="vectors.html#cb145-3"></a>x3 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>, <span class="kw">list</span>(<span class="dv">2</span>, <span class="kw">list</span>(<span class="dv">3</span>)))</span></code></pre></div>
<p>I’ll draw them as follows:</p>
<p><img src="images/lists-structure.png" width="50%" /></p>
<p><strong>There are three principles:</strong></p>
<ol style="list-style-type: decimal">
<li><p>Lists have rounded corners. Atomic vectors have square corners.</p></li>
<li><p>Children are drawn inside their parent, and have a slightly darker background to make it easier to see the hierarchy.</p></li>
<li><p>The orientation of the children (i.e. rows or columns) isn’t important, so I’ll pick a row or column orientation to either save space or illustrate an important property in the example.</p></li>
</ol>
<div id="subsetting" class="section level3">
<h3><span class="header-section-number">3.10.1</span> Subsetting</h3>
<p>There are three ways to subset a list, which I’ll illustrate with a list named <code>a</code>:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="vectors.html#cb146-1"></a>a &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">b =</span> <span class="st">&quot;a string&quot;</span>, <span class="dt">c =</span> pi, <span class="dt">d =</span> <span class="kw">list</span>(<span class="op">-</span><span class="dv">1</span>, <span class="dv">-5</span>))</span></code></pre></div>
<p><strong><code>[ ]</code> extracts a sub-list. The result will always be a list.</strong></p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="vectors.html#cb147-1"></a>    <span class="kw">str</span>(a[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>])</span></code></pre></div>
<pre><code>## List of 2
##  $ a: int [1:3] 1 2 3
##  $ b: chr &quot;a string&quot;</code></pre>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="vectors.html#cb149-1"></a>    <span class="kw">str</span>(a[<span class="dv">4</span>])</span></code></pre></div>
<pre><code>## List of 1
##  $ d:List of 2
##   ..$ : num -1
##   ..$ : num -5</code></pre>
<p>As with vectors, you can subset with a logical, integer, or character vector. <strong><code>[[ ]]</code>extracts a single component from a list. It removes a level of hierarchy from the list.</strong></p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="vectors.html#cb151-1"></a>    <span class="kw">str</span>(a[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>##  int [1:3] 1 2 3</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="vectors.html#cb153-1"></a>    <span class="kw">str</span>(a[[<span class="dv">4</span>]])</span></code></pre></div>
<pre><code>## List of 2
##  $ : num -1
##  $ : num -5</code></pre>
<p><strong><code>$</code>is a shorthand for extracting named elements of a list.</strong> It works similarly to<code>[[ ]]</code>except that you don’t need to use quotes.</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="vectors.html#cb155-1"></a>  a<span class="op">$</span>a</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="vectors.html#cb157-1"></a>  a[[<span class="st">&quot;a&quot;</span>]]</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
</div>
<div id="more-vector-stuff" class="section level3">
<h3><span class="header-section-number">3.10.2</span> More vector stuff</h3>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="vectors.html#cb159-1"></a>v &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">6</span>)</span></code></pre></div>
<p>If a vector is one-dimensional, then we can either:</p>
<ul>
<li>Reference a location in that vector:
<ul>
<li><code>v[2]</code> Will print the value in the second position</li>
<li><code>v[5]</code> Will print the value in the fifth position</li>
<li><code>v[c(2,5)]</code> Will print the value in the second and fifth positions</li>
<li><code>v[-1]</code> Will print everything but the first <em>note the difference between this and python</em></li>
</ul></li>
<li>Pass a logical test that will print values
<ul>
<li><code>v == 2</code> Tests for each value in that vector taking a particular tested, in this case, 2.</li>
</ul></li>
</ul>
<p>And so,</p>
<ul>
<li><code>v[v == 2]</code> Will print only the values that meet the test.</li>
<li><code>v[v == 6]</code> Will not print anything</li>
<li><code>v[v %in% 1:3]</code> uses the set-based <code>%in%</code> operator which looks for existence in a range.</li>
</ul>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="vectors.html#cb160-1"></a><span class="co"># returns by position</span></span>
<span id="cb160-2"><a href="vectors.html#cb160-2"></a>v[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="vectors.html#cb162-1"></a>v[<span class="dv">5</span>]</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="vectors.html#cb164-1"></a>v[<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">5</span>)]</span></code></pre></div>
<pre><code>## [1] 2 6</code></pre>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="vectors.html#cb166-1"></a><span class="co"># everything but the first position</span></span>
<span id="cb166-2"><a href="vectors.html#cb166-2"></a>v[<span class="op">-</span><span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] 2 3 4 6</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="vectors.html#cb168-1"></a>v <span class="op">==</span><span class="st"> </span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="vectors.html#cb170-1"></a>v[v <span class="op">==</span><span class="st"> </span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="vectors.html#cb172-1"></a>v <span class="op">%in%</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="vectors.html#cb174-1"></a>v[ v <span class="op">%in%</span><span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span> ]</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p>The distinction between <code>[ ]</code> and <code>[[ ]]</code> is really important for lists, because <code>[[ ]]</code> drills down into the list while <code>[ ]</code> returns a new, smaller list.</p>
</div>
<div id="lists-of-condiments" class="section level3">
<h3><span class="header-section-number">3.10.3</span> Lists of condiments</h3>
<p>The difference between <code>[</code> and <code>[[</code> is very important, but it’s easy to get confused.
To help you remember, let me show you an unusual pepper shaker.</p>
<p><img src="images/pepper.jpg" width="25%" /></p>
<p>If this pepper shaker is your list <code>x</code>, then, <code>x[1]</code> is a pepper shaker containing a single pepper packet:</p>
<p><img src="images/pepper-1.jpg" width="25%" /></p>
<p><code>x[2]</code> would look the same, but would contain the second packet.
<code>x[1:2]</code> would be a pepper shaker containing two pepper packets.</p>
<p><code>x[[1]]</code> is:</p>
<p><img src="images/pepper-2.jpg" width="25%" /></p>
<p>If you wanted to get the content of the pepper package, you’d need <code>x[[1]][[1]]</code>:</p>
<p><img src="images/pepper-3.jpg" width="25%" /></p>
</div>
</div>
<div id="augmented-vectors" class="section level2">
<h2><span class="header-section-number">3.11</span> Augmented vectors</h2>
<p>Atomic vectors and lists are the building blocks for other important vector types like factors and dates.
I call these <strong>augmented vectors</strong>, because they are vectors with additional <strong>attributes</strong>, including class.
Because augmented vectors have a class, they behave differently to the atomic vector on which they are built.
In this book, we make use of four important augmented vectors:</p>
<ul>
<li>Factors</li>
<li>Dates</li>
<li>Date-times</li>
<li>Tibbles</li>
</ul>
<p>These are described below.</p>
<div id="dates-and-date-times" class="section level3">
<h3><span class="header-section-number">3.11.1</span> Dates and date-times</h3>
<p>Dates in R are numeric vectors that represent the number of days since 1 January 1970.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="vectors.html#cb176-1"></a>x &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="st">&quot;1971-01-01&quot;</span>)</span>
<span id="cb176-2"><a href="vectors.html#cb176-2"></a><span class="kw">unclass</span>(x)</span></code></pre></div>
<pre><code>## [1] 365</code></pre>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="vectors.html#cb178-1"></a><span class="kw">typeof</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;double&quot;</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="vectors.html#cb180-1"></a><span class="kw">attributes</span>(x)</span></code></pre></div>
<pre><code>## $class
## [1] &quot;Date&quot;</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="methods.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Joes_R_Guide.pdf", "Joes_R_Guide.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
